<!DOCTYPE html>
<html lang="en">
<head>
  <title><%= user.name %> (@<%= user.username %>)</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
    <%- include('includes/header') %>

<body>
  <div class="container">

    <section class="profile-header">
      <img class="avatar" src="<%= user.avatar %>" alt="avatar">

      <div>
        <h2><%= user.name %></h2>

        <div class="stats">
          <span><strong><%= user.posts.length %></strong> posts</span>
          <span><strong><%= user.followers %></strong> followers</span>
          <span><strong><%= user.following %></strong> following</span>
        </div>

        <p><strong> @<%= user.username %></strong></p>
        <p><%= user.bio %></p>
      </div>
    </section>

    <section class="posts-grid">
      <% if (user.posts.length === 0) { %>
        <p class="empty">No posts yet</p>
      <% } else { %>
            <% user.posts.forEach(post => { %>
                <div class="post">
                    <img src="<%= post.image %>" alt="post">

                    <div class="post-meta">
                        <div class="post-actions">
                            <span>
                                <img src="/icons/heart.svg.png" alt="likes">
                                <strong><%= post.likes %></strong>
                            </span>
                            <span>
                                <img src="/icons/comment.png" alt="comments">
                                <strong><%= post.comments %></strong>
                            </span>
                        </div>

                        <p class="caption"><%= post.caption %></p>
                        <p class="date"><%= post.createdAt %></p>
                    </div>
                </div>
            <% }) %>
        <% } %>
    </section>
    <%- include('includes/footer') %>
    
  </div>
</body>
</html>
